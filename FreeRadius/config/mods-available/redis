# Redis Caching Module Configuration
# Optimized for enterprise ISP performance

redis {
    # Redis server connection
    server = "radius-redis"
    port = 6379
    database = 0

    # Connection pool - enterprise optimized
    pool {
        start = 5
        min = 3
        max = 32
        spare = 10
        uses = 0
        retry_delay = 30
        lifetime = 0
        idle_timeout = 60
        cleanup_interval = 30
    }

    # Connection timeout
    connect_timeout = 5

    # Reply timeout
    reply_timeout = 5

    # Reconnection settings
    reconnect {
        num = 3
        delay = 1000
    }
}

# Redis cache instance for session tracking
redis session_cache {
    # Redis server connection
    server = "radius-redis"
    port = 6379
    database = 1

    # Pool settings
    pool {
        start = 3
        min = 2
        max = 16
        spare = 5
        uses = 0
        retry_delay = 30
        lifetime = 0
        idle_timeout = 60
    }

    # TTL for session cache (24 hours)
    expire = 86400
}

# Redis cache for authentication results
redis auth_cache {
    # Redis server connection
    server = "radius-redis"
    port = 6379
    database = 2

    # Pool settings
    pool {
        start = 3
        min = 2
        max = 16
        spare = 5
        uses = 0
        retry_delay = 30
        lifetime = 0
        idle_timeout = 60
    }

    # TTL for auth cache (1 hour)
    expire = 3600
}

# Redis rate limiting
redis rate_limit {
    # Redis server connection
    server = "radius-redis"
    port = 6379
    database = 3

    # Pool settings
    pool {
        start = 2
        min = 1
        max = 8
        spare = 3
        uses = 0
        retry_delay = 30
        lifetime = 0
        idle_timeout = 60
    }

    # TTL for rate limit counters (5 minutes)
    expire = 300
}
